var EventDispatcher;(EventDispatcher=function(){}).prototype={subscribe:function(t,e,s,n){function i(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,s="x"===t?e:3&e|8;return s.toString(16)})}var r,x,o=this;(r=this.listeners)||(r=this.listeners={}),(x=r[t])||(x=r[t]=[]),s=s?s:window;var h=i();return x.push({id:h,method:e,scope:s,context:n?n:s}),function(){o.unSubscribe(t,h)}},hasSubscribers:function(t){return this.listeners&&this.listeners[t]&&this.listeners[t].length>0},unSubscribe:function(t,e){for(var s=this.listeners[t].length,n=null;!n&&s--;)this.listeners[t][s].id===e&&(n=this.listeners[t][s]);n&&this.listeners[t].splice(s,1)},trigger:function(t,e,s){var n,i,r,x=this.listeners;if(e=e instanceof Array?e:[e],x){var o=x[t];if(o){for(n=0,i=o.length;i>n;n++)if(r=o[n],("undefined"==typeof s||s===r.context)&&r&&r.method.apply(r.scope,e)===!1)return!1;return!0}}},dispose:function(){for(var t in this.listeners)this.listeners[t]&&this.listeners[t]instanceof Array&&(this.listeners[t].length=0)}};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV2ZW50ZGlzcGF0Y2hlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxHQUFBLGtCQUNBLGdCQUFBLGNBQ0EsV0FDQSxVQUFBLFNBQUEsRUFBQSxFQUFBLEVBQUEsR0FHQSxRQUFBLEtBQ0EsTUFBQSx1Q0FBQSxRQUFBLFFBQUEsU0FBQSxHQUNBLEdBQUEsR0FBQSxHQUFBLEtBQUEsU0FBQSxFQUFBLEVBQUEsTUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLENBQ0EsT0FBQSxHQUFBLFNBQUEsTUFMQSxHQUFBLEdBQUEsRUFTQSxFQUFBLE1BQ0EsRUFBQSxLQUFBLGFBQ0EsRUFBQSxLQUFBLGVBRUEsRUFBQSxFQUFBLE1BQ0EsRUFBQSxFQUFBLE9BRUEsRUFBQSxFQUFBLEVBQUEsTUFDQSxJQUFBLEdBQUEsR0FPQSxPQU5BLEdBQUEsTUFDQSxHQUFBLEVBQ0EsT0FBQSxFQUNBLE1BQUEsRUFDQSxRQUFBLEVBQUEsRUFBQSxJQUVBLFdBQ0EsRUFBQSxZQUFBLEVBQUEsS0FHQSxlQUFBLFNBQUEsR0FDQSxNQUFBLE1BQUEsV0FBQSxLQUFBLFVBQUEsSUFBQSxLQUFBLFVBQUEsR0FBQSxPQUFBLEdBRUEsWUFBQSxTQUFBLEVBQUEsR0FHQSxJQUZBLEdBQUEsR0FBQSxLQUFBLFVBQUEsR0FBQSxPQUNBLEVBQUEsTUFDQSxHQUFBLEtBQ0EsS0FBQSxVQUFBLEdBQUEsR0FBQSxLQUFBLElBQ0EsRUFBQSxLQUFBLFVBQUEsR0FBQSxHQUdBLElBR0EsS0FBQSxVQUFBLEdBQUEsT0FBQSxFQUFBLElBRUEsUUFBQSxTQUFBLEVBQUEsRUFBQSxHQUNBLEdBQUEsR0FBQSxFQUFBLEVBQUEsRUFBQSxLQUFBLFNBRUEsSUFEQSxFQUFBLFlBQUEsT0FBQSxHQUFBLEdBQ0EsRUFBQSxDQUlBLEdBQUEsR0FBQSxFQUFBLEVBQ0EsSUFBQSxFQUFBLENBR0EsSUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLE9BQUEsRUFBQSxFQUFBLElBRUEsR0FEQSxFQUFBLEVBQUEsSUFDQSxtQkFBQSxJQUFBLElBQUEsRUFBQSxVQUFBLEdBR0EsRUFBQSxPQUFBLE1BQUEsRUFBQSxNQUFBLE1BQUEsRUFDQSxPQUFBLENBR0EsUUFBQSxLQUVBLFFBQUEsV0FDQSxJQUFBLEdBQUEsS0FBQSxNQUFBLFVBQ0EsS0FBQSxVQUFBLElBQUEsS0FBQSxVQUFBLFlBQUEsU0FDQSxLQUFBLFVBQUEsR0FBQSxPQUFBIiwiZmlsZSI6ImV2ZW50RGlzcGF0Y2hlci5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgRXZlbnREaXNwYXRjaGVyO1xyXG4oRXZlbnREaXNwYXRjaGVyID0gZnVuY3Rpb24gKCkge1xyXG59KS5wcm90b3R5cGUgPSB7XHJcbiAgICBzdWJzY3JpYmU6IGZ1bmN0aW9uICh0eXBlLCBtZXRob2QsIHNjb3BlLCBjb250ZXh0KSB7XHJcbiAgICAgICAgdmFyIGxpc3RlbmVycywgaGFuZGxlcnM7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGdlbmVyYXRlR3VpZCgpIHtcclxuICAgICAgICAgICAgcmV0dXJuICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24gKGMpIHtcclxuICAgICAgICAgICAgICAgIHZhciByID0gTWF0aC5yYW5kb20oKSAqIDE2IHwgMCwgdiA9IGMgPT09ICd4JyA/IHIgOiAociAmIDB4MyB8IDB4OCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdi50b1N0cmluZygxNik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIGlmICghKGxpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzKSkge1xyXG4gICAgICAgICAgICBsaXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVycyA9IHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIShoYW5kbGVycyA9IGxpc3RlbmVyc1t0eXBlXSkpIHtcclxuICAgICAgICAgICAgaGFuZGxlcnMgPSBsaXN0ZW5lcnNbdHlwZV0gPSBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2NvcGUgPSAoc2NvcGUgPyBzY29wZSA6IHdpbmRvdyk7XHJcbiAgICAgICAgdmFyIGlkID0gZ2VuZXJhdGVHdWlkKCk7XHJcbiAgICAgICAgaGFuZGxlcnMucHVzaCh7XHJcbiAgICAgICAgICAgIGlkOiBpZCxcclxuICAgICAgICAgICAgbWV0aG9kOiBtZXRob2QsXHJcbiAgICAgICAgICAgIHNjb3BlOiBzY29wZSxcclxuICAgICAgICAgICAgY29udGV4dDogKGNvbnRleHQgPyBjb250ZXh0IDogc2NvcGUpXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc2VsZi51blN1YnNjcmliZSh0eXBlLCBpZCk7XHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBoYXNTdWJzY3JpYmVyczogZnVuY3Rpb24gKHR5cGUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5saXN0ZW5lcnMgJiYgdGhpcy5saXN0ZW5lcnNbdHlwZV0gJiYgdGhpcy5saXN0ZW5lcnNbdHlwZV0ubGVuZ3RoID4gMDtcclxuICAgIH0sXHJcbiAgICB1blN1YnNjcmliZTogZnVuY3Rpb24gKHR5cGUsIGlkKSB7XHJcbiAgICAgICAgdmFyIGkgPSB0aGlzLmxpc3RlbmVyc1t0eXBlXS5sZW5ndGg7XHJcbiAgICAgICAgdmFyIGhhbmRsZXIgPSBudWxsO1xyXG4gICAgICAgIHdoaWxlICghaGFuZGxlciAmJiBpLS0pIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMubGlzdGVuZXJzW3R5cGVdW2ldLmlkID09PSBpZCkge1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlciA9IHRoaXMubGlzdGVuZXJzW3R5cGVdW2ldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghaGFuZGxlcikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzW3R5cGVdLnNwbGljZShpLCAxKTtcclxuICAgIH0sXHJcbiAgICB0cmlnZ2VyOiBmdW5jdGlvbiAodHlwZSwgZGF0YSwgY29udGV4dCkge1xyXG4gICAgICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLmxpc3RlbmVycywgaSwgbiwgaGFuZGxlcjtcclxuICAgICAgICBkYXRhID0gZGF0YSBpbnN0YW5jZW9mIEFycmF5ID8gZGF0YSA6IFtkYXRhXTtcclxuICAgICAgICBpZiAoIWxpc3RlbmVycykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIDtcclxuICAgICAgICB2YXIgaGFuZGxlcnMgPSBsaXN0ZW5lcnNbdHlwZV07XHJcbiAgICAgICAgaWYgKCFoYW5kbGVycykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAoaSA9IDAsIG4gPSBoYW5kbGVycy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgaGFuZGxlciA9IGhhbmRsZXJzW2ldO1xyXG4gICAgICAgICAgICBpZiAoKHR5cGVvZiAoY29udGV4dCkgIT09IFwidW5kZWZpbmVkXCIgJiYgY29udGV4dCAhPT0gaGFuZGxlci5jb250ZXh0KSB8fCAhaGFuZGxlcikge1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGhhbmRsZXIubWV0aG9kLmFwcGx5KGhhbmRsZXIuc2NvcGUsIGRhdGEpID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSxcclxuICAgIGRpc3Bvc2U6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBmb3IgKHZhciBsaXN0ZW5lciBpbiB0aGlzLmxpc3RlbmVycykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5saXN0ZW5lcnNbbGlzdGVuZXJdICYmIHRoaXMubGlzdGVuZXJzW2xpc3RlbmVyXSBpbnN0YW5jZW9mIEFycmF5KVxyXG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lcnNbbGlzdGVuZXJdLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59OyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==